{"code":"webpackHotUpdate(0,{232:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),n=s(a(0)),o=s(a(19)),r=a(21),d=s(a(69));a(67);var u=s(a(106));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function h(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}a(68);var m=function(e){function t(e){i(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={show:!1,photo:null,locationName:null,address1:null,address2:null,address3:null,latitude:null,longitude:null,phoneNum:null,rating:null},a.handleClose=a.handleClose.bind(a),a.handleShow=a.handleShow.bind(a),a.photoChange=a.photoChange.bind(a),a.nameChange=a.nameChange.bind(a),a.address1Change=a.address1Change.bind(a),a.address2Change=a.address2Change.bind(a),a.address3Change=a.address3Change.bind(a),a.latitudeChange=a.latitudeChange.bind(a),a.longitudeChange=a.longitudeChange.bind(a),a.phoneChange=a.phoneChange.bind(a),a.ratingChange=a.ratingChange.bind(a),a.createLocation=a.createLocation.bind(a),a}return c(t,e),l(t,[{key:\"handleClose\",value:function(){this.setState({show:!1})}},{key:\"handleShow\",value:function(){this.setState({show:!0})}},{key:\"photoChange\",value:function(e){this.setState({photo:e.target.value})}},{key:\"nameChange\",value:function(e){this.setState({locationName:e.target.value})}},{key:\"address1Change\",value:function(e){this.setState({address1:e.target.value})}},{key:\"address2Change\",value:function(e){this.setState({address2:e.target.value})}},{key:\"address3Change\",value:function(e){this.setState({address3:e.target.value})}},{key:\"latitudeChange\",value:function(e){this.setState({latitude:e.target.value})}},{key:\"longitudeChange\",value:function(e){this.setState({longitude:e.target.value})}},{key:\"phoneChange\",value:function(e){this.setState({phoneNum:e.target.value})}},{key:\"ratingChange\",value:function(e){this.setState({rating:e.target.value})}},{key:\"createLocation\",value:function(){var e=this,t={photo:this.state.photo,locationName:this.state.locationName,address:[this.state.address1,this.state.address2,this.state.address3],latitude:this.state.latitude,longitude:this.state.longitude,phoneNum:this.state.phoneNum,rating:this.state.rating};o.default.post(this.props.port+\"/api/admins/createLocation\",{obj:JSON.stringify(t)}).then((function(t){t.data.success&&(alert(\"Success!\"),e.setState({show:!1,photo:null,locationName:null,address1:null,address2:null,address3:null,latitude:null,longitude:null,phoneNum:null,rating:null}),e.props.refresh(null))}))}},{key:\"render\",value:function(){return n.default.createElement(\"div\",null,n.default.createElement(r.Button,{variant:\"warning\",onClick:this.handleShow,style:{color:\"white\",width:\"12em\",height:\"4em\",float:\"left\"}},\"Create Location \",n.default.createElement(\"span\",{class:\"material-icons\"},\"add\")),n.default.createElement(r.Modal,{show:this.state.show,onHide:this.handleClose},n.default.createElement(r.Modal.Header,{closeButton:!0},n.default.createElement(r.Modal.Title,null,\"Create Location\")),n.default.createElement(r.Modal.Body,null,n.default.createElement(r.Form,null,n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Photo\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.photo,onChange:this.photoChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Name\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.locationName,onChange:this.nameChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Address 1\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.address1,onChange:this.address1Change})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Address 2\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.address2,onChange:this.address2Change})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Address 3\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.address3,onChange:this.address3Change})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Latitude\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.latitude,onChange:this.latitudeChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Longitude\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.longitude,onChange:this.longitudeChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Phone Number\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.phoneNum,onChange:this.phoneChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Rating\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.rating,onChange:this.ratingChange})))),n.default.createElement(r.Modal.Footer,null,n.default.createElement(r.Button,{variant:\"secondary\",onClick:this.handleClose},\"Close\"),n.default.createElement(r.Button,{variant:\"primary\",onClick:this.createLocation},\"Confirm\"))))}}]),t}(n.default.Component),f=function(e){function t(e){i(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={show:!1,locationID:null,photo:null,locationName:null,address1:null,address2:null,address3:null,latitude:null,longitude:null,phoneNum:null,rating:null},a.handleClose=a.handleClose.bind(a),a.handleShow=a.handleShow.bind(a),a.photoChange=a.photoChange.bind(a),a.nameChange=a.nameChange.bind(a),a.address1Change=a.address1Change.bind(a),a.address2Change=a.address2Change.bind(a),a.address3Change=a.address3Change.bind(a),a.latitudeChange=a.latitudeChange.bind(a),a.longitudeChange=a.longitudeChange.bind(a),a.phoneChange=a.phoneChange.bind(a),a.ratingChange=a.ratingChange.bind(a),a.updateLocation=a.updateLocation.bind(a),a}return c(t,e),l(t,[{key:\"handleClose\",value:function(){this.setState({show:!1})}},{key:\"handleShow\",value:function(){var e=this.props.onClick(null);this.setState({locationID:e.locationID,photo:e.photo,locationName:e.locationName,address1:e.address[0],address2:e.address[1],address3:e.address[2],latitude:e.latitude,longitude:e.longitude,phoneNum:e.phoneNum,rating:e.rating,show:!0})}},{key:\"photoChange\",value:function(e){this.setState({photo:\"e.target.value\"})}},{key:\"nameChange\",value:function(e){this.setState({locationName:e.target.value})}},{key:\"address1Change\",value:function(e){this.setState({address1:e.target.value})}},{key:\"address2Change\",value:function(e){this.setState({address2:e.target.value})}},{key:\"address3Change\",value:function(e){this.setState({address3:e.target.value})}},{key:\"latitudeChange\",value:function(e){this.setState({latitude:e.target.value})}},{key:\"longitudeChange\",value:function(e){this.setState({longitude:e.target.value})}},{key:\"phoneChange\",value:function(e){this.setState({phoneNum:e.target.value})}},{key:\"ratingChange\",value:function(e){this.setState({rating:e.target.value})}},{key:\"updateLocation\",value:function(){var e=this,t={locationID:this.state.locationID,photo:this.state.photo,locationName:this.state.locationName,address:[this.state.address1,this.state.address2,this.state.address3],latitude:this.state.latitude,longitude:this.state.longitude,phoneNum:this.state.phoneNum,rating:this.state.rating};o.default.put(this.props.port+\"/api/admins/updateLocation\",{obj:JSON.stringify(t)}).then((function(t){t.data.success&&(alert(\"Success!\"),e.setState({show:!1,locationID:null,photo:null,locationName:null,address1:null,address2:null,address3:null,latitude:null,longitude:null,phoneNum:null,rating:null}),e.props.refresh(null))}))}},{key:\"render\",value:function(){return n.default.createElement(\"div\",null,n.default.createElement(r.Button,{variant:\"outline-dark\",size:\"sm\",onClick:this.handleShow,style:{float:\"right\",width:\"5em\",height:\"7em\"}},n.default.createElement(\"span\",{class:\"material-icons\"},\"create\")),n.default.createElement(r.Modal,{show:this.state.show,onHide:this.handleClose},n.default.createElement(r.Modal.Header,{closeButton:!0},n.default.createElement(r.Modal.Title,null,\"Edit Location\")),n.default.createElement(r.Modal.Body,null,n.default.createElement(r.Form,null,n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Photo\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.photo,onChange:this.photoChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Name\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.locationName,onChange:this.nameChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Address 1\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.address1,onChange:this.address1Change})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Address 2\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.address2,onChange:this.address2Change})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Address 3\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.address3,onChange:this.address3Change})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Latitude\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.latitude,onChange:this.latitudeChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Longitude\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.longitude,onChange:this.longitudeChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Phone Number\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.phoneNum,onChange:this.phoneChange})),n.default.createElement(r.Form.Group,null,n.default.createElement(r.Form.Label,null,\"Rating\"),n.default.createElement(r.Form.Control,{type:\"text\",placeholder:this.state.rating,onChange:this.ratingChange})))),n.default.createElement(r.Modal.Footer,null,n.default.createElement(r.Button,{variant:\"secondary\",onClick:this.handleClose},\"Close\"),n.default.createElement(r.Button,{variant:\"primary\",onClick:this.updateLocation},\"Confirm\"))))}}]),t}(n.default.Component),g=function(e){function t(e){i(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={show:!1,location:null},a.handleClose=a.handleClose.bind(a),a.handleShow=a.handleShow.bind(a),a.deleteLocation=a.deleteLocation.bind(a),a}return c(t,e),l(t,[{key:\"handleClose\",value:function(){this.setState({show:!1})}},{key:\"handleShow\",value:function(){this.setState({location:this.props.onClick(null),show:!0})}},{key:\"deleteLocation\",value:function(){var e=this;o.default.delete(\"/api/admins/deleteLocation/\"+this.state.location.locationID).then((function(t){t.data.success&&(alert(\"Success!\"),e.setState({show:!1}),e.setState({location:void 0}),e.props.refresh(null))}))}},{key:\"render\",value:function(){return n.default.createElement(\"div\",null,n.default.createElement(r.Button,{variant:\"outline-danger\",size:\"sm\",onClick:this.handleShow,style:{float:\"right\",width:\"5em\",height:\"7em\"}},n.default.createElement(\"span\",{class:\"material-icons\"},\"delete\")),n.default.createElement(r.Modal,{show:this.state.show,onHide:this.handleClose},n.default.createElement(r.Modal.Header,{closeButton:!0},n.default.createElement(r.Modal.Title,null,\"Confirmation of Delete Location\")),n.default.createElement(r.Modal.Body,null,\"Are you sure to delete this location? This process cannot go back once it start.\"),n.default.createElement(r.Modal.Footer,null,n.default.createElement(r.Button,{variant:\"secondary\",onClick:this.handleClose},\"Cancel\"),n.default.createElement(r.Button,{variant:\"primary\",onClick:this.deleteLocation},\"Confirm\"))))}}]),t}(n.default.Component),p=function(e){function t(e){i(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={filename:\"Choose File\",notSelected:!0},a.upload=a.upload.bind(a),a.selectedFile=a.selectedFile.bind(a),a}return c(t,e),l(t,[{key:\"selectedFile\",value:function(e){this.setState({filename:document.getElementById(\"file\").value,notSelected:!1})}},{key:\"upload\",value:function(){var e=this,t=new FormData,a=document.getElementById(\"file\");t.append(\"csvfile\",a.files[0]),o.default.post(\"/api/admins/readCSV\",t).then((function(t){t.data.success&&(alert(\"success!\"),e.props.refresh(null),e.setState({filename:\"Choose File\",notSelected:!0}))}))}},{key:\"render\",value:function(){return n.default.createElement(\"div\",null,n.default.createElement(r.Form,{style:{height:\"6em\",\"padding-right\":\"2em\",float:\"right\"}},n.default.createElement(r.Form.File,{id:\"file\",label:this.state.filename,accept:\"text/csv\",custom:!0,onChange:this.selectedFile,style:{width:\"15em\",float:\"right\"}}),n.default.createElement(\"br\",null),n.default.createElement(\"br\",null),n.default.createElement(r.Button,{disabled:this.state.notSelected,onClick:this.upload,style:{width:\"15em\",height:\"4em\",float:\"right\"}},\"Upload CSV\")))}}]),t}(n.default.Component),C=function(e){function t(e){i(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={location:[]},o.default.get(\"/api/admins/readLocation\").then((function(e){e.data.success&&a.setState({location:e.data.data})})),a.refresh=a.refresh.bind(a),a}return c(t,e),l(t,[{key:\"refresh\",value:function(){var e=this;o.default.get(\"/api/admins/readLocation\").then((function(t){t.data.success&&e.setState({location:t.data.data})}))}},{key:\"render\",value:function(){var e=this;return n.default.createElement(\"div\",null,n.default.createElement(r.Card,{className:\"adminComponent\"},n.default.createElement(r.Card.Title,{className:\"cardTitle\"},\"Location\"),n.default.createElement(r.Card.Text,{className:\"cardText\",style:{width:\"100%\",\"text-align\":\"center\"}},n.default.createElement(\"div\",{style:{\"padding-right\":\"2em\"}},n.default.createElement(\"span\",{style:{float:\"left\"}},\"CSV format should be:\"),n.default.createElement(r.Table,null,n.default.createElement(\"thead\",null,n.default.createElement(\"tr\",null,n.default.createElement(\"td\",null,\"photo\"),n.default.createElement(\"td\",null,\"locationName\"),n.default.createElement(\"td\",null,\"address1\"),n.default.createElement(\"td\",null,\"address2\"),n.default.createElement(\"td\",null,\"address3\"),n.default.createElement(\"td\",null,\"latitude\"),n.default.createElement(\"td\",null,\"longitude\"),n.default.createElement(\"td\",null,\"phoneNum\"),n.default.createElement(\"td\",null,\"rating\"))),n.default.createElement(\"tbody\",null,n.default.createElement(\"tr\",null,n.default.createElement(\"td\",null,\"String\"),n.default.createElement(\"td\",null,\"String\"),n.default.createElement(\"td\",null,\"String\"),n.default.createElement(\"td\",null,\"String\"),n.default.createElement(\"td\",null,\"String\"),n.default.createElement(\"td\",null,\"Double\"),n.default.createElement(\"td\",null,\"Double\"),n.default.createElement(\"td\",null,\"Number (with country code [852])\"),n.default.createElement(\"td\",null,\"Number (between 1 - 5)\"))))),n.default.createElement(m,{refresh:this.refresh}),n.default.createElement(p,{refresh:this.refresh})),n.default.createElement(r.Card.Body,{className:\"cardText\"},n.default.createElement(d.default,{className:\"adminTable\",data:this.state.location,filterable:!0,columns:[{Header:\"Photo\",accessor:\"photo\",sortable:!1,filterable:!1,Cell:function(e){return\"\"==e.value?n.default.createElement(\"div\",null,n.default.createElement(\"img\",{height:50,src:\"\"})):n.default.createElement(\"div\",{style:{\"text-align\":\"center\"}},n.default.createElement(\"img\",{height:\"100px\",src:e.value}))}},{Header:\"Name\",accessor:\"locationName\",filterMethod:function(e,t){return matchSorter(t,e.value,{keys:[\"locationName\"]})},filterAll:!0},{Header:\"Address\",accessor:\"address\",filterMethod:function(e,t){return matchSorter(t,e.value,{keys:[\"address\"]})},filterAll:!0,id:\"address\"},{Header:\"Latitude\",accessor:\"latitude\",filterMethod:function(e,t){return matchSorter(t,e.value,{keys:[\"latitude\"]})},filterAll:!0,id:\"latitude\"},{Header:\"Longitude\",accessor:\"longitude\",filterMethod:function(e,t){return matchSorter(t,e.value,{keys:[\"longitude\"]})},filterAll:!0,id:\"longitude\"},{Header:\"Phone Number\",accessor:\"phoneNum\",filterMethod:function(e,t){return matchSorter(t,e.value,{keys:[\"phoneNum\"]})},filterAll:!0,id:\"phoneNum\"},{Header:\"Rating\",accessor:\"rating\",id:\"rating\",Cell:function(e){return n.default.createElement(u.default,{name:\"hover-feedback\",value:e.value,precision:.5,readOnly:!0})}},{Header:\"\",accessor:\"\",id:\"\",sortable:!1,filterable:!1,Cell:function(t){return n.default.createElement(\"div\",null,n.default.createElement(g,{onClick:function(){return t.value},refresh:e.refresh}),n.default.createElement(f,{onClick:function(){return t.value},refresh:e.refresh}))}}],defaultPageSize:10}))))}}]),t}(n.default.Component);t.default=C}});","extractedComments":[]}